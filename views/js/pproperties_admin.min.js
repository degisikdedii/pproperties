!function(t,e){for(var a in e)t[a]=e[a]}(window,function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=4)}([function(t,e,a){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @author    PS&More www.psandmore.com <support@psandmore.com>
 * @copyright Since 2011 PS&More
 * @license   https://psandmore.com/licenses/sla Software License Agreement
 */a.d(e,"a",(function(){return i})),"object"!==n(window.pp)&&(window.pp={});var i=window.pp;if("string"!=typeof i.decimalSign&&(i.decimalSign=""),i.delay=function(t,e){var a=Array.prototype.slice.call(arguments,2);return setTimeout((function(){return t.apply(null,a)}),e)},i.defer=function(t){return i.delay.apply(i,[t,1].concat(Array.prototype.slice.call(arguments,1)))},i.debounce=function(t,e,a){var n,i,o,r,p=function(){n=null,i&&(r=t.apply(o,i))},s=function(){if(o=this,i=arguments,n&&clearTimeout(n),a){var s=!n;n=setTimeout(p,e),s&&(r=t.apply(o,i))}else n=setTimeout(p,e);return r};return s.cancel=function(){clearTimeout(n),n=null},s},i.loading={loading:function(){$(".pp-loader").addClass("loading"),$(".pp-wait").each((function(){var t=$(this);t.data("pp-wait")&&(t.data("pp-wait-saved")||t.data("pp-wait-saved",t.html()),t.html(t.data("pp-wait"))),t.addClass("working")}))},start:function(t){i.loading.cancel(),t?void 0===i.loading.debounced&&(i.loading.debounced=i.debounce(i.loading.loading,t),i.loading.debounced()):i.loading.loading()},cancel:function(){$(".pp-loader").removeClass("loading"),$(".pp-wait").each((function(){var t=$(this);t.data("pp-wait-saved")&&t.html(t.data("pp-wait-saved")),t.removeClass("working")})),i.loading.debounced&&(i.loading.debounced.cancel(),i.loading.debounced=void 0)},create:function(t,e,a){null==a&&(a="prepend"),t[a]('<div class="pp-loader"></div>'),e.length&&$("<style>.pp-loader.loading::before{background-color:"+e.css("background-color")+"}</style>").appendTo("head")}},i.formatQty=function(t,e,a){var n=a>5?a:5,o=i.parseFloat(String(t).replace(/,/g,".")),r=(t=String(o.toFixed(n))).indexOf(".");if(r>=0){for(var p=t.length-1;p>r&&"0"==t.charAt(p);p--);t=t.substring(0,p+1)}return-1!=t.indexOf(".",t.length-1)&&(t=t.substring(0,t.length-1)),void 0!==a&&a>=0&&(t=o.toFixed(a)),(void 0!==e&&""!==e?","==e:","==this.decimalSign)&&(t=t.replace(/\./g,",")),t},i.normalizeFloatAsString=function(t,e){var a=String(t).replace(/,/g,".");return e||(a=a.replace(/[^0-9.-]/g,"")),0==a.indexOf(".")&&(a="0"+a),a},i.parseInt=function(t,e,a){var n=parseInt(i.normalizeFloatAsString(t,a));return isNaN(n)?void 0===e?0:e:n},i.parseFloat=function(t,e,a){var n=parseFloat(i.normalizeFloatAsString(t,a));return isNaN(n)?void 0===e?0:e:n},i.decimals=function(t){var e=String(t).replace(/,/g,"."),a=e.indexOf(".");return a>=0?e.length-a-1:-1},i.hex=function(t){return("0"+parseInt(t).toString(16)).slice(-2)},i.rgb2hex=function(t){return-1==t.search("rgb")?t:(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),"#"+i.hex(t[1])+i.hex(t[2])+i.hex(t[3]))},i.htmlspecialchars_decode=function(t,e){var a=0,n=0,i=!1;void 0===e&&(e=2),t=t.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var o={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===e&&(i=!0),"number"!=typeof e){for(e=[].concat(e),n=0;n<e.length;n++)0===o[e[n]]?i=!0:o[e[n]]&&(a|=o[e[n]]);e=a}return e&o.ENT_HTML_QUOTE_SINGLE&&(t=t.replace(/&#0*39;/g,"'")),i||(t=t.replace(/&quot;/g,'"')),t=t.replace(/&amp;/g,"&")},i.safeoutput=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&lt;sup&gt;/g,"<sup>").replace(new RegExp("&lt;/sup&gt;","g"),"</sup>"):t},i.spanText=function(t,e,a){return(void 0===a?" ":a)+'<span class="'+t+'">'+e+"</span>"},i.priceText=function(t){return'<span class="pp_price_text">'+t.pp_price_text+"</span>"},i.qtyText=function(t,e,a,n){return t.cart_quantity_fractional>0?"<"+(a||"div")+' class="pp_qty_wrapper">'+(n?"":"x&nbsp;")+i.formatQty(t.cart_quantity_fractional,e)+"&nbsp;"+t.pp_qty_text+"</"+(a||"div")+">":""},i.totalText=function(t,e){return'<span class="pp_qty_wrapper"><span class="pp_qty">'+e+'</span>&nbsp;<span class="pp_qty_text">'+t.pp_qty_text+"</span></span>"},i.getCartTotalQty=function(t){return t.cart_quantity_fractional>0?t.cart_quantity*t.cart_quantity_fractional:t.cart_quantity},i.step=function(t,e,a){var n=a>8?a:8;if(t=i.round(t,n),e>0){var o=parseFloat(Math.floor((t/e).toFixed(n))),r=parseFloat((o*e).toFixed(n));(r<t||0==r)&&(t=(o+1)*e,t=parseFloat(t.toFixed(n)))}return a=a>=0?a:8,t=parseFloat(t.toFixed(a))},i.boundValue=function(t,e,a,n,o){var r=o>8?o:8;return n>0&&i.round(t,r)>i.round(n,r)&&(t=n),a>0&&i.round(t,r)<i.round(a,r)&&(t=a),e>0&&(t=i.step(t,e,o),n>0&&i.round(t,r)>i.round(n,r)&&(e=i.round(e,r),t=Math.abs(t-e)),a>0&&i.round(t,r)<i.round(a,r)&&(t=a)),o=o>=0?o:8,t=i.round(t,o)},i.isSpecificValue=function(t,e){t=i.round(t,8);for(var a=e.length-1;a>=0;a--)if(t==i.round(e[a],8))return!0;return!1},i.processSpecificValues=function(t,e,a,n){var o=n>8?n:8;if(t=i.round(t,o),void 0!==e&&$.isArray(e)&&e.length>0)if("down"==a){for(var r=e.length-1;r>=0;r--)if(t>=i.round(e[r],o))return t=e[r];t=e[0]}else{for(var p=0;p<e.length;p++)if(t<=i.round(e[p],o))return t=e[p];t=e[e.length-1]}return t},i.startsWith=function(t,e){return null!=t&&null!=e&&e.length>0&&0==t.lastIndexOf(e,e.length-1)},i.endsWith=function(t,e){return null!=t&&null!=e&&e.length>0&&-1!=t.indexOf(e,t.length-e.length)},i.contains=function(t,e){return null!=t&&null!=e&&e.length>0&&-1!=t.indexOf(e)},i.round=function(t,e){return e=e>8?e:8,parseFloat(i.parseFloat(t).toFixed(e))},i.getClasses=function(t){var e=t.attr("class"),a=[];return e&&e.length&&e.split&&(a=(e=(e=jQuery.trim(e)).replace(/\s+/g," ")).split(" ")),a},i.copyCss=function(t,e,a){if((t=$(t)).length)for(var n=0;n<a.length;n++){var i=a[n];"height_"==i?e.height(t.height()):"padding"==i?(e.css("padding-top",t.css("padding-top")),e.css("padding-right",t.css("padding-right")),e.css("padding-bottom",t.css("padding-bottom")),e.css("padding-left",t.css("padding-left"))):"border"==i?(e.css("border-top-width",t.css("border-top-width")),e.css("border-right-width",t.css("border-right-width")),e.css("border-bottom-width",t.css("border-bottom-width")),e.css("border-left-width",t.css("border-left-width")),e.css("border-top-color",t.css("border-top-color")),e.css("border-right-color",t.css("border-right-color")),e.css("border-bottom-color",t.css("border-bottom-color")),e.css("border-left-color",t.css("border-left-color")),e.css("border-top-left-radius",t.css("border-top-left-radius")),e.css("border-top-right-radius",t.css("border-top-right-radius")),e.css("border-bottom-right-radius",t.css("border-bottom-right-radius")),e.css("border-bottom-left-radius",t.css("border-bottom-left-radius"))):e.css(i,t.css(i))}},i.createCss=function(t,e){if(e){var a=e.split(" "),n=[];$.each(a,(function(t,e){e.startsWith("psm-hide-")&&n.push("."+e+" ."+e.substring(9)+" {display: none !important;}")})),$.each(a,(function(t,e){e.startsWith("psm-display-")&&n.push("."+e+" ."+e.substring(12)+" {display: inherit !important;}")})),n.length>0&&t.before($("<style>"+n.join(" ")+"</style>"))}},i.swapHtml=function(t,e){var a=$(t),n=$(e);if(a.length&&n.length){var i=a.html(),o=n.html();a.empty().html(o),n.empty().html(i)}},i.lightenDarkenColor=function(t,e){if(t){"#"==(t=i.rgb2hex(t))[0]&&(t=t.slice(1));var a=parseInt(t,16),n=(a>>16)+e;n>255?n=255:n<0&&(n=0);var o=(a>>8&255)+e;o>255?o=255:o<0&&(o=0);var r=(255&a)+e;return r>255?r=255:r<0&&(r=0),"#"+(r|o<<8|n<<16).toString(16)}},i.findUrlParam=function(t,e){if("string"==typeof t){var a,n,i=t.split("?")[1].split("&");for(a=0;a<i.length;a++)if((n=i[a].split("="))[0]==e)return n[1]}},i.isMobile=function(){return/Mobi/.test(navigator.userAgent)},i.isRTL=function(){if(void 0===i.rtl){var t,e=$("html").get(0);t=window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue("direction"):e.currentStyle.direction,i.rtl="rtl"==t,i.rtl&&$("body").addClass("pp-rtl")}return i.rtl},i.log=function(t){i.logLevel(t,"undefined"),i._logLevel&&!1!==i._logLevel[t]&&(!0===i._logLevel[t]||!0===i._logLevel.all||!0===i._logLevel.prestashop&&t.startsWith("prestashop"))&&console.log.apply(i,["pp.log:"+t+" =>"].concat(Array.prototype.slice.call(arguments,1)))},i.logLevel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i._logLevel||(i._logLevel={all:"undefined",prestashop:"undefined"}),void 0===i._logLevel[t]&&(i._logLevel[t]=e),!0!==e&&!1!==e||(i._logLevel[t]=e)},i.logOn=function(t){i.logLevel(t||"all",!0)},i.logOff=function(t){i.logLevel(t||"all",!1)},i.trace=function(){var t=new Error("dummy");console.log(t.stack)},i.ready={deferreds:[],deferred:function(){return this.deferreds.push($.Deferred()),this.deferreds[this.deferreds.length-1]},when:function(t){return t.resolve(),$.when.apply(this,this.deferreds)}},i.hooks={onReadyFunctions:{},onReadyHooks:[],registerOnReady:function(t,e){"function"==typeof e&&(this.onReadyFunctions[t]=e)},onReady:function(t){var e=null;arguments.length>1&&(e=Array.prototype.slice.call(arguments,1)),this.onReadyHooks.push([t,e])},hooks:{},hook:function(t,e){"function"==typeof e&&(this.hooks[t]=e)},call:function(t){if("function"==typeof this.hooks[t])return arguments.length>1?this.hooks[t].apply(this,Array.prototype.slice.call(arguments,1)):this.hooks[t].call()}},i.normalizeSettings=function(t){return"object"!=n(t)&&(t="string"==typeof t&&i.startsWith(t,"{")?JSON.parse(i.htmlspecialchars_decode(t)):{}),t},i.ppValHook=function(t){var e={type:"number",qty_policy:(t=i.normalizeSettings(t)).qty_policy,min:isNaN(t.minimum_quantity)?0:t.minimum_quantity,max:isNaN(t.maximum_quantity)?0:t.maximum_quantity,step:isNaN(t.qty_step)?0:t.qty_step,specific_values:t.specific_values,bind_specific_values:!!t.specific_values&&!t.unbind_specific_values,value_zero:void 0!==t.value_zero?t.value_zero:0};return 2==t.qty_policy?e.decimals=t.qty_decimals:e.decimals=0,e},"function"!=typeof Number.prototype._toFixed&&(Number.prototype._toFixed=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return-1==(""+this).indexOf("e")?(+(Math.round(+(this+"e"+t))+"e"+-t))._toFixed(t):this._toFixed(t)}),jQuery.fn.extend({pp_val:function(t,e){return!arguments.length||!0!==e&&!0===this.data("pp_val")?this.val():this.val(t),!1!==e&&this.data("pp_val",!0),this},pp_mutating:function(t){return this.data("pp_mutating",t),!0===t&&this.data("pp_val",!0),this},pp_is:function(t){return!!t&&"string"==typeof t&&(":pp_val"==t?!0===this.data("pp_val"):":pp_mutating"==t&&!0===this.data("pp_mutating"))}}),null==jQuery.valHooks.input||null==jQuery.valHooks.input.normalize){var o=jQuery.valHooks.input&&jQuery.valHooks.input.get?jQuery.valHooks.input.get:function(t){return t.value},r=jQuery.valHooks.input&&jQuery.valHooks.input.set?jQuery.valHooks.input.set:function(t,e){return t.value=e,t};jQuery.extend(jQuery.valHooks,{input:{normalize:function(t,e,a){if(t){var n=jQuery(t).data("ppValHook");if(n&&"number"===n.type)return a=a?String(a):null,e=null==e?"":String(e),2==n.qty_policy?(a&&(a=parseFloat(a.replace(/,/g,".").replace(/[^0-9.-]/g,""))),e=parseFloat(e.replace(/,/,".").replace(/[^0-9.-].*/,""))):(a&&(a=parseInt(a.replace(/[^0-9-].*/,""))),e=parseInt(e.replace(/[^0-9-].*/,""))),isNaN(a)&&(a=null),isNaN(e)&&(e=0),n.bind_specific_values&&n.specific_values?e=i.processSpecificValues(e,n.specific_values,a&&e<a?"down":"up",n.decimals):n.specific_values&&i.isSpecificValue(e,n.specific_values)||(e=i.boundValue(e,n.step,n.min,n.max,n.decimals)),2==n.qty_policy&&n.decimals>=0&&(e=e.toFixed(n.decimals)),0==e&&(e=n.value_zero),String(e)}},get:function(t){var e=jQuery.valHooks.input.normalize(t,t.value);return"string"==typeof e?e:o(t)},set:function(t,e){var a=jQuery(t),n=jQuery.valHooks.input.normalize(t,e,t.value);if("string"==typeof n){var o=a.data("ppValHook.set.value"),p=a.data("ppValHook.set.value.formatted"),s=void 0!==i&&(i.decimalSign?n.replace(/\./,i.decimalSign):n);return a.data("ppValHook.set.value",n),a.data("ppValHook.set.value.formatted",s),t.value=s,null!=o&&o!=n&&a.triggerHandler("pp.change",{type:"number",value:{old:o,new:n},formatted:{old:p,new:s}}),s}return r(t,e)}}})}jQuery((function(){$("body").attr("data-ps-version",i.psversion).attr("data-pp-version",i.version).attr("data-pp-theme",i.theme),i.isRTL(),"undefined"!=typeof prestashop&&"function"==typeof prestashop.on&&(prestashop.on("updateProduct",(function(t){i.log("prestashop.on.updateProduct",t)})),prestashop.on("updatedProduct",(function(t){i.log("prestashop.on.updatedProduct",t)})),prestashop.on("pp.updatedProduct",(function(t){i.log("prestashop.on.pp.updatedProduct",t)})),prestashop.on("updateProductList",(function(t){i.log("prestashop.on.updateProductList",t)})),prestashop.on("updateCart",(function(t){i.log("prestashop.on.updateCart",t)})),prestashop.on("updatedCart",(function(t){i.log("prestashop.on.updatedCart",t)})))}))},,,,function(t,e,a){a(5),t.exports=a(6)},function(t,e,a){"use strict";a.r(e);var n=a(0);a.d(e,"pp",(function(){return n.a})),window.ppAdminTemplates={templates:{},currentTemplate:0,minQtyExpl:{},qtyPolicyExpl:{},qtyModeExpl:{},displayModeExpl:{},priceDisplayModeExpl:{},setCurrentTemplate:function(t){if(isNaN(t)){var e=$("#id_pp_template");t=e.length?e.get(0).selectedIndex:0}this.currentTemplate=t>=0&&t<this.templates.length?t:0},getCurrentTemplate:function(){return this.get(this.currentTemplate)},get:function(t){return this.templates[t>=0&&t<this.templates.length?t:0]},toggle_bo_qty_text:function(t){var e=$(".pp_bo_qty_text");e.html(t),""==t?(e.filter(".no-input-group-when-empty").parent().removeClass("input-group"),e.hide(),$(".pp_bo_qty_text_original").show()):(e.filter(".no-input-group-when-empty").parent().addClass("input-group"),e.show(),$(".pp_bo_qty_text_original").hide())},showTemplateInfo:function(t){var e=this.getCurrentTemplate(),a=e.unity_text;$(".pp_template_desc").html(e.description),$(".pp_price_text").html(e.price_text),$(".pp_unity_text").html(a),$(".pp_qty_text").html(e.qty_text),this.toggle_bo_qty_text(e.bo_qty_text),$(".pp_bo_minimum_quantity_text").html(e.bo_minimum_quantity_text),$(".pp_bo_maximum_quantity_text").html(e.maximum_quantity>0?e.bo_maximum_quantity_text:""),$(".pp_bo_total_maximum_quantity_text").html(e.total_maximum_quantity>0?e.bo_total_maximum_quantity_text:""),$(".pp_unit_price_ratio").html(e.ratio>0?n.a.formatQty(e.ratio):""),$(".pp_minimal_price_ratio").html(e.minimal_price_ratio>0?n.a.formatQty(e.minimal_price_ratio):""),$(".pp_minimum_quantity").html(n.a.formatQty(e.min_qty)),$(".pp_bo_minimum_quantity").html(n.a.formatQty(e.min_bo_qty)),$(".pp_maximum_quantity").html(e.maximum_quantity?n.a.formatQty(e.maximum_quantity):""),$(".pp_total_maximum_quantity").html(e.total_maximum_quantity>0?n.a.formatQty(e.total_maximum_quantity):""),$(".pp_default_quantity").html(n.a.formatQty(e.default_quantity)),$(".pp_bo_default_quantity_text").html(e.bo_default_quantity_text),$(".pp_qty_step").html(e.qty_step>0?n.a.formatQty(e.qty_step):""),$(".pp_bo_qty_step_text").html(e.qty_step>0?e.bo_qty_step_text:""),$(".pp_qty_shift").html(e.qty_shift>0?n.a.formatQty(e.qty_shift):""),$(".pp_bo_qty_shift_text").html(e.qty_shift>0?e.bo_qty_shift_text:""),$(".pp_qty_decimals").html(e.qty_decimals>0?n.a.formatQty(e.qty_decimals):""),$(".pp_qty_values").html(e.qty_values),$(".pp_qty_ratio").html(e.qty_ratio>0?n.a.formatQty(e.qty_ratio):""),$(".pp_explanation").html(e.explanation);var i=1==e.ext?"ext":e.qty_policy,o=$('#form_step3_minimal_quantity, [name*="[attribute_minimal_quantity]"]').closest("[class*=col-]").find(".help-box");if(o.length){var r=o.attr("data-content");void 0===this.minQtyExpl.default&&(this.minQtyExpl.default="default",r&&(this.minQtyExpl[-1]=r)),o.attr("data-content",this.minQtyExpl[i])}$(".pp_qty_policy_expl").html(this.qtyPolicyExpl[i]),void 0!==this.minQtyExplShort[i]&&$(".pp_minimum_quantity_expl_short").html(this.minQtyExplShort[i]);var p="";0==e.qty_mode?p=this.qtyModeExpl[0]:$.each(this.qtyModeExpl,(function(t,a){(t=parseInt(t))&&(e.qty_mode&t)===t&&(p.length>0&&(p+=", "),p+=a)})),$(".pp_qty_mode_expl").html(p);var s="";0==e.display_mode?s=this.displayModeExpl[0]:$.each(this.displayModeExpl,(function(t,a){(t=parseInt(t))&&(e.display_mode&t)===t&&(s.length>0&&(s+=", "),s+=a)})),$(".pp_display_mode_expl").html(s),$(".pp_price_display_mode_expl").html(this.priceDisplayModeExpl[e.price_display_mode]);var l=e.display_mode;if((2==l||3==l)&&a.length>0?$(".pp_retail_price_text").html(a):$(".pp_retail_price_text").html(e.price_text),e.ratio>0?($("#form_step2_unit_price").hide(),$("#pp_unit_price").show()):($("#form_step2_unit_price").show(),$("#pp_unit_price").hide()),a.length>0?($("#form_step2_unity").hide(),$(".pp_unity_display").show()):($("#form_step2_unity").show(),$(".pp_unity_display").hide()),$(".pp_multidimensional")[1==e.ext?"show":"hide"](),n.a.hooks.call("multidimensional","showTemplateInfo",t),n.a.hooks.call("ppropertiesplugin","showTemplateInfo",t),this.currentTemplate>0){var u=$("a.edit-pp-template-link");u.length&&u.attr("href",u.attr("href").replace(/&id=.*/,"&id=")+e.id_pp_template),$(".pp_template_toggle_display").show(),$(".pp_template_toggle").css("visibility","visible"),$(".ppMinQtyExplTemplate").css("visibility","visible")}else $(".pp_template_toggle_display").hide(),$(".pp_template_toggle").css("visibility","hidden"),$(".ppMinQtyTemplate, .ppMinQtyExplTemplate").css("visibility","hidden"),$(".pp_template_value").html("");$("[data-value-zero]").each((function(){var t=$(this);0==t.val()&&t.val(t.attr("data-value-zero"))}))},changeTemplateRelatedFields:function(t,e){this.setCurrentTemplate(t);var a=this.getCurrentTemplate();$('#form_step3_minimal_quantity,[name*="attribute_minimal_quantity"]').each((function(){var t=$(this),e=parseInt(t.val());0!=e&&1!=e||t.val(a.bo_min_qty)})),$("#form_step2_unity").val(""),$("#pp_unit_price").html(""),this.showTemplateInfo("all"===e),this.calcUnitPrice()},calcUnitPrice:function(){var t=this.getCurrentTemplate();if(t.ratio>0){var e=n.a.parseFloat($("#form_step2_price").val()),a="";if(!isNaN(e)&&0!=e){var i=e/t.ratio;a=window.truncateDecimals(i,6)}$("#form_step2_unit_price").val(a),$("#pp_unit_price").html(a)}}},window.ppProduct={prop:!1,fallback_ext_quantity:"",getProp:function(t,e){if($.isArray(this.prop)&&this.prop.length>0)for(var a=this.prop.length-1;a>=0;a--){var n=this.prop[a];if(n.id_product_attribute==t&&n.position==e)return n}},getExtQty:function(t,e,a){var i=this.getProp(t,e),o=void 0!==i?i.quantity:a;return(void 0===o||o<=0)&&(o=this.fallback_ext_quantity),""==o?"":n.a.formatQty(o)}},window.callAdminPproperties=function(t,e,a){var i={};null!=t&&$.extend(i,t),$.ajax({url:n.a.adminppropertiesurl,type:"POST",headers:{"cache-control":"no-cache"},cache:!1,dataType:"json",data:i,success:function(t){null!=e&&e(t)},error:function(t){null!=a&&a(t)}})},window.ppMakeTotalProductCaculation=function(t,e,a){if(t){var i=t.find("td .edit_product_quantity");((e=n.a.parseFloat(i.val()))<=0||isNaN(e))&&(e=1);var o=t.find('.product_quantity_edit input[name="whole_product_quantity"]');if(o.length){var r=n.a.parseInt(o.val());r>0&&t.find(".product_quantity_edit .pp_quantity_fractional").text(n.a.formatQty(n.a.parseFloat(i.val())/r))}else{var p=t.find(".product_quantity_edit .pp_quantity_fractional");if(p.length){var s=n.a.parseFloat(p.text());a=window.ps_round(a*s,window.priceDisplayPrecision)}}}return window.makeTotalProductCaculation(e,a)},window.bulkManageTemplatesOpenForm=function(t){var e=$(t).closest("[bulkurl]");$("#bulkManageTemplatesForm").show("slow",window.bulkManageTemplatesUpdateForm()).data("urlHandler",e)},window.bulkManageTemplatesUpdateForm=function(){var t=$('form#product_catalog_list input:checked[name="bulk_action_selected_products[]"][disabled!="disabled"]').length,e=parseInt($("select#bulk_action_selected_id_pp_template").val());$("#bulkManageTemplatesForm button[data-action-url]").prop("disabled",0===t||isNaN(e)||e<=0)},window.bulkManageTemplatesAction=function(t){var e=$(t).data("action");if("cancel"!==e){if("assign"===e||"remove"===e){var a=$("#product_catalog_list"),n=$('input:checked[name="bulk_action_selected_products[]"]',a),i=parseInt($("select#bulk_action_selected_id_pp_template").val());if(n.length>0&&!isNaN(i)&&i>0){var o=$("#bulkManageTemplatesForm").data("urlHandler"),r=$(t).data("action-url")+"&id_pp_template="+i,p=o.attr("redirecturl");return window.bulkModalAction(n,r,p,"manage_templates")}}}else $("#bulkManageTemplatesForm").hide()},window.bulkManageTemplates=function(t){$(t).show("slow",window.bulkManageTemplatesUpdateForm())},window.orderProductEditPrepare=function(t,e){if(2!=e.qty_policy&&null===e.whole_product_quantity||t.prop("type","text"),null===e.whole_product_quantity)e.product_quantity_factor&&t.data("product_quantity_factor",e.product_quantity_factor);else{t.data("whole_product_quantity",e.whole_product_quantity);var a=$('<input type="text" class="editProductWholeQuantity form-control" name="whole_product_quantity" value="'+e.whole_product_quantity+'"/>'),n=a.wrap('<div class="input-group">').parent();e.cart_quantity_details_to_display&&(n.addClass("has-qty-text"),a.after('<div class="input-group-append"><span class="input-group-text">'+e.cart_quantity_details_to_display+"</span></div>")),t.after(n),n.before("<br>")}t.wrap('<div class="input-group">'),e.pp_qty_text_for_edit&&(t.parent().addClass("has-qty-text"),t.after('<div class="input-group-append"><span class="input-group-text">'+e.pp_qty_text_for_edit+"</span></div>"))},window.orderCreateProductRendererRenderList=function(t,e){var a=e.ppsettings;if(t.find("input, .js-product-remove-btn").data("id_cart_product",parseInt(a.id_cart_product)),a.id_pp_template){var n=t.find("input.js-product-qty-input");window.orderProductEditPrepare(n,a),$(document).on("change",".editProductWholeQuantity",(function(){var t=$(this).closest("tr").find("input.js-product-qty-input");t.data("whole_product_quantity",$(this).val()),t.trigger("change")}))}},window.orderCreateProductRendererRenderProductMetadata=function(t){var e=$("input#quantity-input"),a=e.parent();a.hasClass("has-qty-text")&&a.before(e.detach()).remove(),$(".js-product-pproperties-row").remove(),$("input, button","#js-add-product-form").prop("disabled",!1);var i,o=1,r=t.ppsettings;if(r.id_pp_template){if(2==r.qty_policy&&(i=1e-6),o=r.default_quantity,r.qty_text_for_edit&&(e.wrap('<div class="input-group has-qty-text">'),e.after('<div class="input-group-append"><span class="input-group-text">'+r.qty_text_for_edit+"</span></div>")),r.qty_text){var p=$("span.js-in-stock-counter");p.html(p.html()+" "+r.qty_text)}r.disable_add_to_cart&&$("input, button","#js-add-product-form").prop("disabled",!0),r.html&&$(".row.js-product-select-row").after(r.html)}e.prop("min",i),e.val(o),r.id_pp_template&&(n.a.hooks.call("ppropertiesplugin","orderCreateProductRendererRenderProductMetadata",t),n.a.hooks.call("multidimensional","orderCreateProductRendererRenderProductMetadata",t),n.a.hooks.call("smartprice","orderCreateProductRendererRenderProductMetadata",t))},$(document).on("click",".pp-advice [data-ref], .pp-advice[data-ref]",(function(){var t=$(this),e=t.attr("data-ref"),a=t.attr("data-ref-content"),n=$('[data-advice-content="'+(a||e)+'"]');n.length>0&&($(".advice-content",n).remove(),n.hide(),0==t.find('i[class^="icon-refresh"]').length&&t.append('<i class="icon-refresh icon-spin"></i>'),window.callAdminPproperties({action:"GetHelp",ref:e},(function(e){$('i[class^="icon-refresh"]',t).remove(),$(".pp-advice.active").removeClass("active"),n.html('<div class="advice-content"><button type="button" class="close" data-dismiss="alert">×</button>'+("success"==e.status?e.content:"error")+"</div>"),n.fadeIn("slow")}),(function(){$('i[class^="icon-refresh"]',t).remove()})))})),$(document).on("change keyup","body.adminproducts #module_pproperties #id_pp_template",(function(){window.ppAdminTemplates.changeTemplateRelatedFields($(this).get(0).selectedIndex,"all"),$("body.adminproducts #module_pproperties .hint:hidden").fadeIn("slow")})),$(document).on("click","body.adminproducts #accordion_combinations .btn-open",(function(){var t=$('[name*="[attribute_quantity]"], [name*="[attribute_minimal_quantity]"], [name*="[attribute_low_stock_threshold]"]').filter((function(){return!$(this).hasClass("no-input-group-when-empty")}));t.length>0&&(t.addClass("no-input-group-when-empty").wrap('<div class="input-group"></div>').after('<span class="input-group-addon input-group-text input-group-append input-group-append no-input-group-when-empty pp_bo_qty_text"></span>'),t.filter('[name*="[attribute_minimal_quantity]"]').closest(".form-group").append('<div class="small pp_desc ppMinQtyExplTemplate" style="visibility:hidden;">'+window.ppAdminTemplates.s_minimum_quantity+' <span class="pp_minimum_quantity"></span> <span class="pp_bo_minimum_quantity_text"></span> <span class="pp_minimum_quantity_expl_short"></span></div>'),$('[name*="[attribute_wholesale_price]"]').closest(".form-group").find("label").append(' <span class="pp_price_text round-brackets"></span> ')),window.ppAdminTemplates.showTemplateInfo()})),$(document).on("change",".requires_ppropertiesplugin input[name=pp_ms_display]:checked",(function(){var t=parseInt($(".requires_ppropertiesplugin input[name=pp_ms_display]:checked").val());$("div.form-group[class*=pp_ms_]")[t?"addClass":"removeClass"]("active")})),jQuery((function(){if($('.advice-description[data-bind^="[type=radio]"]').each((function(){var t=$(this),e=t.attr("data-bind");$(document).on("change",e,(function(){var t=$(this);0==$('[data-advice-content="'+t.attr("name")+'"] > .advice-content').length&&($(".pp-advice").removeClass("active"),$('[data-bind="'+e+'"].pp-advice.'+t.attr("id")).addClass("active"))})),t.hasClass("onload")&&$(e+":checked").trigger("change")})),$("body").hasClass("adminproducts")){if(void 0!==window.pproperties_hook_admin_product){window.pproperties_hook_admin_product(),window.ppProduct.id>0&&($("[id^=form_step1_name_]").parent().addClass("position-relative"),$("[id^=form_step1_name_]").before('<span class="product-id">'+window.ppProduct.id+"</span>")),$("#form_step1_price_shortcut").closest(".form-group").find("h2 .help-box").before(' <span class="pp_price_text round-brackets"></span> '),$("#step2").find("h2 .help-box").eq(0).before(' <span class="pp_retail_price_text round-brackets"></span> '),$("#form_step2_wholesale_price").closest(".row").find("h2 .help-box").before(' <span class="pp_price_text round-brackets"></span> '),$("#form_step2_unit_price").before('<span class="form-control pp_unit_price" id="pp_unit_price"></span>'),$("#form_step2_unity").after('<span class="form-control pp_unity_text pp_unity_display"></span><span class="pp_unity_display" id="pp_unity_text_expl" style="dysplay:none;">('+window.ppProduct.s_pp_unity_text_expl+")</span>");var t=$("#step2 #form_step2_specific_price_sp_from_quantity").parent().find(".input-group-addon,.input-group-text");t.html('<span class="pp_bo_qty_text"></span><span class="pp_bo_qty_text_original">'+t.text()+"</span>"),$("#form_step2_specific_price_sp_price").closest(".row").prev("h4").append(' <span class="pp_price_text round-brackets"></span> '),$("#form_step2_price, #form_step2_price_ttc").change((function(){window.ppAdminTemplates.calcUnitPrice()})),$("#form_step1_qty_0_shortcut, #form_step3_qty_0, #form_step3_minimal_quantity, #form_step3_low_stock_threshold, #product_combination_bulk_quantity, #product_combination_bulk_minimal_quantity, #product_combination_bulk_low_stock_threshold, #product_combination_bulk_impact_on_weight").wrap('<div class="input-group"></div>').after('<span class="input-group-addon input-group-text input-group-append no-input-group-when-empty pp_bo_qty_text"></span>'),$("#product_combination_bulk_cost_price").after('<span class="input-group-addon input-group-text input-group-append no-input-group-when-empty pp_price_text"></span>'),$("#form_step3_minimal_quantity, #product_combination_bulk_minimal_quantity").closest("[class*=col-]").append('<div class="small pp_desc ppMinQtyExplTemplate" style="visibility:hidden;">'+window.ppAdminTemplates.s_minimum_quantity+' <span class="pp_minimum_quantity"></span> <span class="pp_bo_minimum_quantity_text"></span> <span class="pp_minimum_quantity_expl_short"></span></div>'),$("#combinations .combinations-list thead").find("th").eq("5").append(' <span class="pp_bo_qty_text round-brackets"></span> '),$("#module_pproperties #id_pp_template").length&&window.ppAdminTemplates.showTemplateInfo()}$(".products-catalog").length&&($(document).on("change select",'form#product_catalog_list input:checkbox[name="bulk_action_selected_products[]"], select#bulk_action_selected_id_pp_template',(function(){window.bulkManageTemplatesUpdateForm()})),$(document).on("click","#bulkManageTemplatesForm button",(function(){window.bulkManageTemplatesAction(this)}))),1==n.a.demo&&$('#form a:not(.nav-link,.dropdown-toggle,.edit-pp-template-link,.configure-pp-templates-link), #form input, #form textarea, #form button:not([data-target="module-pproperties"])').addClass("disabled").attr("disabled","disabled")}$("body").hasClass("adminmodules")&&$("#pproperties-configure-context").length&&($("#tabs").tabs(),$("#tabs").tabs("option","active",n.a.adminpproperties_activetab),$("#tabs").css("visibility","visible"),$(".pp-action-btn").on("click",(function(t){$(this).data("clicked")?t.preventDefault():($(".pp-action-btn").data("clicked",!0),$(".pp-action-btn").css("opacity",.5),setTimeout((function(){$("#ajax_running").fadeIn()}),500))})),$(".pp-integration-module a").on("click",(function(t){var e=$(this);t.preventDefault(),$(this).blur();var a=e.closest(".pp-integration-module"),n=e.data("mode");window.callAdminPproperties({action:n,json:'{"module":"'+a.attr("data-module")+'","ver":"'+a.attr("data-ver")+'"}'},(function(t){var e=window.ppFormParams["integration_module_"+t.status+"_"+n];"success"==t.status?(a.html(e).addClass("success"),$(".runSetup").html(window.ppFormParams.rerun)):"rerun"==t.status||"downloaded"==t.status||"no_updates"==t.status?($("span.permission_denied",a).remove(),$('a[data-mode="'+n+'"]',a).before('<span class="downloaded">'+e+"</span>").remove(),$(".runSetup").html(window.ppFormParams.rerun)):"permission_denied"==t.status?($("span.permission_denied",a).remove(),$('a[data-mode="'+n+'"]',a).before(window.ppFormParams.extra_modules_dir+"/"+a.attr("data-module")+' <span class="failure">'+e+"</span> "+window.ppFormParams["integration_module_rerun_"+n]).remove(),$(".runSetup").html(window.ppFormParams.rerun)):a.html(window.ppFormParams.integration_module_error).addClass("failure")}),(function(){a.html(window.ppFormParams.integration_module_error).addClass("failure")}))})),$("#pp_info_block .pp_info_close").on("click",(function(t){t.preventDefault(),$("#pp_info_block").fadeOut()})),$("#pp_info_block #pp_info_ignore").on("click",(function(t){t.preventDefault(),$("#pp_info_block").fadeOut(),window.callAdminPproperties({action:"InfoIgnore"})})),window.callAdminPproperties({action:"InfoQuery"},(function(t){"success"==t.status&&($("#pp_info_block .pp_info_content").html(t.content),$("#pp_info_block").fadeIn("slow"))}))),$("body").hasClass("adminorders")&&(n.a.psversion<"1.7.7.0"?(window.f_updateCartProducts=window.updateCartProducts,window.updateCartProducts=function(t,e,a){window.f_updateCartProducts(t,e,a),$.each(t,(function(){var t=$('input[rel="'+this.id_product+"_"+this.id_product_attribute+"_"+(this.id_customization?this.id_customization:0)+"_"+this.id_cart_product+'"].cart_quantity');t.length&&(t.wrap('<div class="input-group">'),this.pp_bo_qty_text&&t.after('<div class="input-group-addon pp_bo_qty_text">'+this.pp_bo_qty_text+"</div>"),2==this.qty_policy&&t.val(n.a.parseFloat(this.cart_quantity_fractional)),(t=t.closest("tr").find(".product_unit_price")).length&&(t.wrap('<div class="input-group fixed-width-xl">'),this.pp_price_text&&t.after('<div class="input-group-addon pp_price_text">'+this.pp_price_text+"</div>")))}))},$(document).on("keyup",'.product_quantity_edit input[name="whole_product_quantity"]',(function(){window.editProductRefreshTotal($(this))}))):$(document).on("click",".js-order-product-edit-btn",(function(){var t=$(this),e=n.a.normalizeSettings(t.data("order-pp-settings"));if(e.id_pp_template){var a=$("#"+t.closest("tr").attr("id").replace("orderProduct_","editOrderProduct_")),i=a.find("input.editProductQuantity");window.orderProductEditPrepare(i,e);var o=a.find(".editProductAvailable");$(document).on("change keyup",".editProductQuantity, .editProductWholeQuantity, .editProductPriceTaxExcl, .editProductPriceTaxIncl",(function(){o.html(n.a.formatQty(n.a.parseFloat(o.html(),0,!0))+(e.pp_bo_qty_text?"<span>&nbsp;"+e.pp_bo_qty_text+"</span>":""));var t=n.a.parseInt(a.find("input.editProductWholeQuantity").val());if(t>0){var i=n.a.parseFloat(a.find("input.editProductQuantity").val());i>0&&a.find(".pp_quantity_fractional").text(n.a.formatQty(i/t))}})),$(".editProductQuantity").trigger("change")}})))}))},function(t,e,a){}]));